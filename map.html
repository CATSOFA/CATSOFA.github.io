<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>Daum 지도 테스트</title>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<!-- <script type="text/javascript">

</script> -->
<style>
* {margin:0; padding:0}
html, body {height:100%}
#map {width:100%; height:100%}
</style>
</head>
<body>

	<div id="map"></div>	
	
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=252a5b49be4cff2ea2416e616d730a26"></script>
	<script>
	
	
		/****************************************************************************/
		
		var a,
			b;
		
		getLocation();
		
		function getLocation() {
		  if (navigator.geolocation) { // GPS를 지원하면
			navigator.geolocation.getCurrentPosition(function(position) {
			  a = position.coords.latitude;
			  b = position.coords.longitude;
			  //console.log(position.coords.latitude + ' ' + position.coords.longitude);
			  console.log(a + ', ' + b);
			}, function(error) {
			  console.error(error);
			}, {
			  enableHighAccuracy: false,
			  maximumAge: 0,
			  timeout: Infinity
			});
		  } else {
			alert('GPS를 지원하지 않습니다');
		  }
		}
		
		
		/****************************************************************************/
		
		
	
		/* 지도 객체 생성 */
		var container = document.getElementById('map');
		var options = {
			//center: new daum.maps.LatLng(37.522612, 126.921778),
			center: new daum.maps.LatLng(a, b),
			level: 3
		};
		
		var map = new daum.maps.Map(container, options);
		
		// 일반 지도와 스카이뷰로 지도 타입을 전환할 수 있는 지도타입 컨트롤을 생성합니다
		var mapTypeControl = new daum.maps.MapTypeControl();

		// 지도에 컨트롤을 추가해야 지도위에 표시됩니다
		// daum.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다
		map.addControl(mapTypeControl, daum.maps.ControlPosition.TOPRIGHT);

		// 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다
		var zoomControl = new daum.maps.ZoomControl();
		map.addControl(zoomControl, daum.maps.ControlPosition.RIGHT);
		
		// 마커가 표시될 위치입니다 
		var markerPosition  = new daum.maps.LatLng(37.522612, 126.921778);
		

		// 마커를 생성합니다
		var marker = new daum.maps.Marker({
			position: markerPosition
		});

		// 마커가 지도 위에 표시되도록 설정합니다
		marker.setMap(map);

		// 아래 코드는 지도 위의 마커를 제거하는 코드입니다
		// marker.setMap(null);    
		
		
		
		
		
	</script>
</body>
</html>
